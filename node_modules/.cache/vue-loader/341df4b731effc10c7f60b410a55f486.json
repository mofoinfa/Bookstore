{"remainingRequest":"E:\\Project\\HTML\\BIMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Project\\HTML\\BIMS\\src\\view\\index\\homepage.vue?vue&type=style&index=0&id=8f4fb728&scoped=true&lang=css&","dependencies":[{"path":"E:\\Project\\HTML\\BIMS\\src\\view\\index\\homepage.vue","mtime":1663557286965},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\css-loader\\index.js","mtime":1663239435871},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1663239452324},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\postcss-loader\\src\\index.js","mtime":1663239454003},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663239443669},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\vue-loader\\lib\\index.js","mtime":1663239452314}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.bookimg {\n\twidth: 80px;\n\theight: 106px;\n}\n\n.grid-content {\n\tborder-radius: 4px;\n\tmin-height: 24px;\n}\n\n.bookbody {\n\tmargin-bottom: -20px;\n}\n\n.myrow {\n\theight: 550px;\n\toverflow-y: scroll;\n}\n",{"version":3,"sources":["homepage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"homepage.vue","sourceRoot":"src/view/index","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<el-row>\r\n\t\t\t<el-col :span=\"4\" :offset=\"18\">\r\n\t\t\t\t<el-button type=\"success\">添加</el-button>\r\n\t\t\t\t<el-button type=\"primary\">导入</el-button>\r\n\t\t\t\t<el-button type=\"info\">导出</el-button>\r\n\t\t\t</el-col>\r\n\t\t</el-row>\r\n\r\n\t\t<el-row class=\"myrow\">\r\n\t\t\t<el-col :span=\"18\" :offset=\"3\">\r\n\t\t\t\t<div v-for=\"(i,n) in booklist\" :key=\"n\" class=\"bookbody\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<el-row>\r\n\t\t\t\t\t\t\t<el-col :span=\"2\" :offset=\"5\">\r\n\t\t\t\t\t\t\t\t<div class=\"grid-content \" style=\"text-align: center;margin-top: 5px;\">\r\n\t\t\t\t\t\t\t\t\t<img ref=\"img\" class=\"bookimg\" :src=\"i.imgurl | geturl(i,i.imgurl)\" alt=\"\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t<el-col :span=\"10\" style=\"margin-top: 20px;\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<el-descriptions title=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<el-descriptions-item label=\"书名\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-tooltip :content=\"i.title\" placement=\"top\" effect=\"light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{{i.title|ellipsis}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</el-tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</el-descriptions-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-descriptions-item label=\"作者\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-tooltip :content=\"i.author\" placement=\"top\" effect=\"light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<el-tag size=\"big\">{{i.author|ellipsis}}</el-tag>\r\n\t\t\t\t\t\t\t\t\t\t\t</el-tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</el-descriptions-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-descriptions-item label=\"单价\">{{i.price}}</el-descriptions-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-descriptions-item label=\"出版社\">\r\n\t\t\t\t\t\t\t\t\t\t\t<el-tooltip :content=\"i.publisher\" placement=\"top\" effect=\"light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{{i.publisher|ellipsis}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</el-tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</el-descriptions-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-descriptions-item label=\"出版年份\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{i.publication_year}}\r\n\t\t\t\t\t\t\t\t\t\t</el-descriptions-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-descriptions-item label=\"库存数量\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{i.publication_year}}\r\n\t\t\t\t\t\t\t\t\t\t</el-descriptions-item>\r\n\t\t\t\t\t\t\t\t\t</el-descriptions>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t\t<el-col :span=\"1\" style=\"margin-left: 15px;margin-top: 20px;\">\r\n\t\t\t\t\t\t\t\t<el-dropdown>\r\n\t\t\t\t\t\t\t\t\t<el-button type=\"primary\" @f=\"getImgUrl(i.imgurl)\">\r\n\t\t\t\t\t\t\t\t\t\t查看详情<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t\t\t\t\t\t\t<el-dropdown-item>加入购物车</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-dropdown-item>移出购物车</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-dropdown-item>下架</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t\t<el-dropdown-item>上架</el-dropdown-item>\r\n\t\t\t\t\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t\t\t\t\t</el-dropdown>\r\n\t\t\t\t\t\t\t\t<!-- <el-button>移出购物车</el-button><br> -->\r\n\t\t\t\t\t\t\t</el-col>\r\n\t\t\t\t\t\t</el-row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<el-divider></el-divider>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</el-col>\r\n\r\n\t\t</el-row>\r\n\t\t<div style=\"text-align: center;\">\r\n\t\t\t<el-pagination background layout=\"prev, pager, next\" :total=\"booknum\">\r\n\t\t\t</el-pagination>\r\n\t\t</div>\r\n\t\t<el-drawer title=\"我是标题\" :visible.sync=\"drawer\" :with-header=\"false\">\r\n\t\t\t<span>我来啦!</span>\r\n\t\t</el-drawer>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbooklist: [],\r\n\t\t\t\tbooknum: 1,\r\n\t\t\t\tdrawer: false,\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\t// 使文字显示少于10个字符，防止页面布局变动\r\n\t\t\tellipsis(value) {\r\n\t\t\t\tif (!value)\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\tif (value.length > 10) {\r\n\t\t\t\t\treturn value.slice(0, 10) + \"...\";\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t},\r\n\t\t\t// 防止图片内容不符\r\n\t\t\tgeturl(url, n) {\r\n\t\t\t\t// console.log(url,n)\r\n\t\t\t\tvar url2 =\r\n\t\t\t\t\t\"http://celiang.oss-cn-hangzhou.aliyuncs.com/measurement/2022-05/19/G0JSVphpS2MItH1652924237220519.jpg\";\r\n\t\t\t\tvar img = new Image();\r\n\t\t\t\timg.src = url;\r\n\t\t\t\timg.onload;\r\n\t\t\t\tsetTimeout((that) => {\r\n\t\t\t\t\tif (img.width < 10 || img.height < 10) {\r\n\t\t\t\t\t\tn.imgurl = url2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1500)\r\n\t\t\t\treturn url;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmounted() {\r\n\t\t\tvar that = this;\r\n\t\t\taxios.get('http://127.0.0.1/book/booklist').then(res => {\r\n\t\t\t\tthat.booklist = res.data;\r\n\t\t\t\t// console.log(res.data)\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(\"获取数据失败\" + err);\r\n\t\t\t})\r\n\t\t\taxios.get('http://127.0.0.1/book/num').then(res => {\r\n\t\t\t\tthat.booknum = res.data[0].num;\r\n\t\t\t\tconsole.log(that.booknum)\r\n\t\t\t\t// console.log(res.data)\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(\"获取数据失败\" + err);\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.bookimg {\r\n\t\twidth: 80px;\r\n\t\theight: 106px;\r\n\t}\r\n\r\n\t.grid-content {\r\n\t\tborder-radius: 4px;\r\n\t\tmin-height: 24px;\r\n\t}\r\n\r\n\t.bookbody {\r\n\t\tmargin-bottom: -20px;\r\n\t}\r\n\r\n\t.myrow {\r\n\t\theight: 550px;\r\n\t\toverflow-y: scroll;\r\n\t}\r\n</style>\n"]}]}