{"remainingRequest":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\src\\view\\index\\book.vue?vue&type=style&index=0&id=d18af39c&scoped=true&lang=css&","dependencies":[{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\src\\view\\index\\book.vue","mtime":1664096341037},{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\css-loader\\index.js","mtime":1663239435871},{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1663239452324},{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\postcss-loader\\src\\index.js","mtime":1663239454003},{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663239443669},{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\vue-loader\\lib\\index.js","mtime":1663239452314}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.book_content {\n\twidth: 1000px;\n\tmargin: 42px auto 0;\n\tposition: relative;\n\tcolor: #9e9e9e;\n\tfont: 12px/20px \"Microsoft Yahei\", arial, sans-serif;\n\tfont-weight: normal;\n}\n\n*,\nbody,\nul,\nli,\nh1,\nh2,\nh3,\nh4,\nh5 {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.book_info {\n\twidth: 1000px;\n\toverflow: hidden;\n\tbackground: #fff;\n}\n\n.book_info .bookL {\n\tfloat: left;\n\twidth: 26.9%;\n}\n\n.book_info .bookL a {\n\tmargin: 68px auto 0;\n\twidth: 156px;\n\theight: 208px;\n\tdisplay: block;\n\tposition: relative;\n\tz-index: 1;\n}\n\n.book_info .bookR {\n\tfloat: left;\n\twidth: 73.1%;\n\toverflow: hidden;\n\tpadding-bottom: 27px;\n\tborder-left: 1px solid #f0f0f0;\n\tbox-sizing: border-box;\n}\n\n.bookR .bookinfo1 {\n\tpadding: 22px 40px 0 30px;\n\theight: 72px;\n\tborder-bottom: 1px solid #f0f0f0;\n}\n\n.bookinfo1 .bookname {\n\toverflow: hidden;\n\tmargin-bottom: 15px;\n\tcolor: #212121;\n}\n\n.bookinfo1 .bookname h2 {\n\tmax-width: 438px;\n\theight: 22px;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\tfloat: left;\n\tcolor: #212121;\n\tfont-size: 20px;\n\tfont-style: normal;\n\tfont-weight: normal;\n}\n\n.bookinfo1 p {\n\toverflow: hidden;\n\tfont-style: normal;\n\tfont-weight: normal;\n}\n\n.bookinfo1 p .otherinfo {\n\tfloat: left;\n}\n\n.bookR .bookinfo2 {\n\tpadding: 24px 40px 0 30px;\n\theight: 98px;\n\tborder-bottom: 1px solid #f0f0f0;\n}\n\n.bookinfo2 .left {\n\tfloat: left;\n\twidth: 500px;\n\tmargin-top: 4px;\n}\n\n.bookinfo2 .left p {\n\tmargin-bottom: 10px;\n\tfont-size: 15px;\n}\n\n.bookinfo2 .left p i {\n\tmargin-right: 10px;\n\tmargin-left: 2px;\n\tcolor: red;\n\tfont-size: 25px;\n\tfont-style: normal;\n\tfont-weight: normal;\n}\n\n.bookR .bookinfo3 {\n\tpadding: 24px 40px 0 30px;\n}\n",{"version":3,"sources":["book.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"book.vue","sourceRoot":"src/view/index","sourcesContent":["<template>\r\n\t<div class=\"book_content\">\r\n\t\t<div class=\"book_info\">\r\n\t\t\t<div class=\"bookL\">\r\n\t\t\t\t<a><img :src=\"thisbook.imgurl\" style=\"width:156px;height:208px\"></a>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"bookR\">\r\n\t\t\t\t<div class=\"bookinfo1\">\r\n\t\t\t\t\t<div class=\"bookname\">\r\n\t\t\t\t\t\t<h2>{{thisbook.name}}</h2>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<span class=\"author\" style=\"margin-right:12px\">作者:{{thisbook.author}}</span>\r\n\t\t\t\t\t\t<span class=\"otherinfo\" style=\"margin-right: 12px;\">出版社:{{thisbook.publisher}}</span>\r\n\t\t\t\t\t\t<span class=\"otherinfo\" style=\"margin-right: 12px;\">出版年份:{{thisbook.publication_year}}</span>\r\n\t\t\t\t\t\t<span style=\"margin-right: 12px;\">类别: <span v-for=\"(i,n) in thisbook.booktype\"\r\n\t\t\t\t\t\t\t\t:key=\"i\">{{i}}</span></span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"bookinfo2\">\r\n\t\t\t\t\t<div class=\"left\">\r\n\t\t\t\t\t\t<p>价格:<i style=\"margin-left: 5px;\">{{thisbook.price}}元</i></p>\r\n\t\t\t\t\t\t<el-button v-if=\"thisbook.num<1\" type=\"info\" round>暂无货源</el-button>\r\n\t\t\t\t\t\t<el-button v-if=\"state&&thisbook.num>0\" type=\"danger\" round @click=\"addtoshopcar(thisbook)\">\r\n\t\t\t\t\t\t\t加入购物车</el-button>\r\n\t\t\t\t\t\t<el-input-number v-if=\"!state\" :min=\"0\" :max=\"thisbook.id | getnum\" v-model=\"num\">\r\n\t\t\t\t\t\t</el-input-number>\r\n\t\t\t\t\t\t<el-button v-if=\"!state\" type=\"danger\" round style=\"margin-left:20px\" @click=\"goshopcar\">前往购物车\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t<el-button v-if=\"!state\" type=\"danger\" round style=\"margin-left:20px\" @click=\"costmoney\">去结算\r\n\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"bookinfo3\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{{thisbook.introduction}}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<router-view v-on:loginstate=\"loginstate\"></router-view>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport book from '../bookcenter/image/bookcenter.js'\r\n\timport shop from '../../config/shopingcenter/shopcenter.js';\r\n\timport bill from '../../config/billcenter/billcenter.js'\r\n\r\n\t// 格式化日对象\r\n\tconst getNowDate = () => {\r\n\t\tvar date = new Date();\r\n\t\tvar sign2 = \":\";\r\n\t\tvar year = date.getFullYear() // 年\r\n\t\tvar month = date.getMonth() + 1; // 月\r\n\t\tvar day = date.getDate(); // 日\r\n\t\tvar hour = date.getHours(); // 时\r\n\t\tvar minutes = date.getMinutes(); // 分\r\n\t\tvar seconds = date.getSeconds() //秒\r\n\t\tvar weekArr = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期天'];\r\n\t\tvar week = weekArr[date.getDay()];\r\n\t\t// 给一位数的数据前面加 “0”\r\n\t\tif (month >= 1 && month <= 9) {\r\n\t\t\tmonth = \"0\" + month;\r\n\t\t}\r\n\t\tif (day >= 0 && day <= 9) {\r\n\t\t\tday = \"0\" + day;\r\n\t\t}\r\n\t\tif (hour >= 0 && hour <= 9) {\r\n\t\t\thour = \"0\" + hour;\r\n\t\t}\r\n\t\tif (minutes >= 0 && minutes <= 9) {\r\n\t\t\tminutes = \"0\" + minutes;\r\n\t\t}\r\n\t\tif (seconds >= 0 && seconds <= 9) {\r\n\t\t\tseconds = \"0\" + seconds;\r\n\t\t}\r\n\t\treturn year + \"-\" + month + \"-\" + day + \" \" + hour + sign2 + minutes + sign2 + seconds;\r\n\t}\r\n\r\n\texport default {\r\n\t\twatch: {\r\n\t\t\tnum(n, o) {\r\n\t\t\t\tif (n == 0) {\r\n\t\t\t\t\tthis.shoping.num = this.num\r\n\t\t\t\t\tshop.commit({\r\n\t\t\t\t\t\ttype: 'del',\r\n\t\t\t\t\t\tdata: this.shoping\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.state = true;\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: '移出购物车',\r\n\t\t\t\t\t\tmessage: '移出购物车成功',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (o != 0) {\r\n\t\t\t\t\tthis.shoping.num = this.num\r\n\t\t\t\t\tshop.commit({\r\n\t\t\t\t\t\ttype: 'edit',\r\n\t\t\t\t\t\tdata: this.shoping\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tgetnum(data) {\r\n\t\t\t\treturn book.state.bookData.filter(p => p.id == data)[0].num;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetstate() {\r\n\t\t\t\treturn shop.getters.getBookShop;\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tnum: 0,\r\n\t\t\t\tstate: true,\r\n\t\t\t\tshoping: '',\r\n\t\t\t\tthisbook: ''\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tloginstate() {\r\n\t\t\t\tthis.$emit(\"loginstate\", {\r\n\t\t\t\t\tflag: true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taddtoshopcar(item) {\r\n\t\t\t\tif (!this.$store.state.f) {\r\n\t\t\t\t\tthis.$emit(\"loginstate\", {\r\n\t\t\t\t\t\tflag: true\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// 判断书籍数量是否可供应\r\n\t\t\t\tif (book.state.bookData.filter(p => p.id == this.thisbook.id && p.num > 0).length < 1) {\r\n\t\t\t\t\t// console.log(this.thisbook.name, this.thisbook.num)\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tmessage: '该书库存不足',\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.num = 1;\r\n\t\t\t\tthis.shoping = {\r\n\t\t\t\t\tuid: this.$store.state.id,\r\n\t\t\t\t\tbook: this.thisbook,\r\n\t\t\t\t\tnum: this.num\r\n\t\t\t\t}\r\n\t\t\t\tshop.commit({\r\n\t\t\t\t\ttype: 'insertShop',\r\n\t\t\t\t\tdata: this.shoping\r\n\t\t\t\t})\r\n\t\t\t\tthis.state = false;\r\n\t\t\t\tthis.$notify({\r\n\t\t\t\t\ttitle: '加入购物车',\r\n\t\t\t\t\tmessage: '加入购物车成功',\r\n\t\t\t\t\ttype: 'success'\r\n\t\t\t\t});\r\n\t\t\t\t// console.log(shop.state.shoplist)\r\n\t\t\t},\r\n\t\t\tcostmoney() {\r\n\t\t\t\t// 判断书籍数量是否可供应\r\n\t\t\t\tif (book.state.bookData.filter(p => p.id == this.shoping.book.id && !(p.num < this.shoping.num)).length < 1) {\r\n\t\t\t\t\t// console.log(this.thisbook.name, this.thisbook.num)\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tmessage: '该书库存不足',\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// 生成订单\r\n\t\t\t\tvar temp = {\r\n\t\t\t\t\tuid: this.$store.state.id,\r\n\t\t\t\t\tcreate_time: getNowDate(),\r\n\t\t\t\t\tid: Date.now(),\r\n\t\t\t\t\tstatus: '1',\r\n\t\t\t\t\ttotal_payment: parseFloat(this.shoping.num) * parseFloat(this.thisbook.price),\r\n\t\t\t\t\tlist: [this.shoping],\r\n\t\t\t\t\tstart: 0,\r\n\t\t\t\t\tpoint: 0\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 删除购物车信息\r\n\t\t\t\tshop.commit({\r\n\t\t\t\t\ttype: 'del',\r\n\t\t\t\t\tdata: this.shoping\r\n\t\t\t\t})\r\n\t\t\t\tthis.state = true\r\n\r\n\t\t\t\t// 修改书籍最大数量\r\n\t\t\t\tbook.commit({\r\n\t\t\t\t\ttype: 'editBookNum',\r\n\t\t\t\t\tdata: this.shoping\r\n\t\t\t\t})\r\n\t\t\t\t// console.log(this.shoping)\r\n\t\t\t\t//插入订单 \r\n\t\t\t\tbill.commit({\r\n\t\t\t\t\ttype: 'insertBillList',\r\n\t\t\t\t\tdata: temp\r\n\t\t\t\t})\r\n\t\t\t\tthis.$notify({\r\n\t\t\t\t\ttitle: '订单',\r\n\t\t\t\t\tmessage: '新的订单已产生，请随即前往订单记录页面支付订单',\r\n\t\t\t\t\ttype: 'success'\r\n\t\t\t\t});\r\n\t\t\t\tthis.$router.push('/blog')\r\n\t\t\t},\r\n\t\t\tgoshopcar() {\r\n\t\t\t\tthis.$router.push('/shopcar')\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif (this.$store.state.f) {\r\n\t\t\t\tshop.commit({\r\n\t\t\t\t\ttype: \"setUid\",\r\n\t\t\t\t\tdata: this.$store.state.id\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.thisbook = book.state.bookData.filter(p => p.id == this.$route.query.id)[0]\r\n\r\n\t\t\tif (this.getstate.length > 0) {\r\n\t\t\t\tthis.state = false;\r\n\t\t\t\tthis.shoping = JSON.parse(JSON.stringify(this.getstate[0]));\r\n\t\t\t\tthis.num = this.shoping.num;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.book_content {\r\n\t\twidth: 1000px;\r\n\t\tmargin: 42px auto 0;\r\n\t\tposition: relative;\r\n\t\tcolor: #9e9e9e;\r\n\t\tfont: 12px/20px \"Microsoft Yahei\", arial, sans-serif;\r\n\t\tfont-weight: normal;\r\n\t}\r\n\r\n\t*,\r\n\tbody,\r\n\tul,\r\n\tli,\r\n\th1,\r\n\th2,\r\n\th3,\r\n\th4,\r\n\th5 {\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t.book_info {\r\n\t\twidth: 1000px;\r\n\t\toverflow: hidden;\r\n\t\tbackground: #fff;\r\n\t}\r\n\r\n\t.book_info .bookL {\r\n\t\tfloat: left;\r\n\t\twidth: 26.9%;\r\n\t}\r\n\r\n\t.book_info .bookL a {\r\n\t\tmargin: 68px auto 0;\r\n\t\twidth: 156px;\r\n\t\theight: 208px;\r\n\t\tdisplay: block;\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.book_info .bookR {\r\n\t\tfloat: left;\r\n\t\twidth: 73.1%;\r\n\t\toverflow: hidden;\r\n\t\tpadding-bottom: 27px;\r\n\t\tborder-left: 1px solid #f0f0f0;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.bookR .bookinfo1 {\r\n\t\tpadding: 22px 40px 0 30px;\r\n\t\theight: 72px;\r\n\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t}\r\n\r\n\t.bookinfo1 .bookname {\r\n\t\toverflow: hidden;\r\n\t\tmargin-bottom: 15px;\r\n\t\tcolor: #212121;\r\n\t}\r\n\r\n\t.bookinfo1 .bookname h2 {\r\n\t\tmax-width: 438px;\r\n\t\theight: 22px;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tfloat: left;\r\n\t\tcolor: #212121;\r\n\t\tfont-size: 20px;\r\n\t\tfont-style: normal;\r\n\t\tfont-weight: normal;\r\n\t}\r\n\r\n\t.bookinfo1 p {\r\n\t\toverflow: hidden;\r\n\t\tfont-style: normal;\r\n\t\tfont-weight: normal;\r\n\t}\r\n\r\n\t.bookinfo1 p .otherinfo {\r\n\t\tfloat: left;\r\n\t}\r\n\r\n\t.bookR .bookinfo2 {\r\n\t\tpadding: 24px 40px 0 30px;\r\n\t\theight: 98px;\r\n\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t}\r\n\r\n\t.bookinfo2 .left {\r\n\t\tfloat: left;\r\n\t\twidth: 500px;\r\n\t\tmargin-top: 4px;\r\n\t}\r\n\r\n\t.bookinfo2 .left p {\r\n\t\tmargin-bottom: 10px;\r\n\t\tfont-size: 15px;\r\n\t}\r\n\r\n\t.bookinfo2 .left p i {\r\n\t\tmargin-right: 10px;\r\n\t\tmargin-left: 2px;\r\n\t\tcolor: red;\r\n\t\tfont-size: 25px;\r\n\t\tfont-style: normal;\r\n\t\tfont-weight: normal;\r\n\t}\r\n\r\n\t.bookR .bookinfo3 {\r\n\t\tpadding: 24px 40px 0 30px;\r\n\t}\r\n</style>\n"]}]}