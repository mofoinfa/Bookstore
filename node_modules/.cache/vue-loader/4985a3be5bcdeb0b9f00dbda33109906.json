{"remainingRequest":"E:\\Project\\HTML\\BIMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Project\\HTML\\BIMS\\src\\view\\other\\booklist.vue?vue&type=style&index=0&id=785ca4f2&scoped=true&lang=css&","dependencies":[{"path":"E:\\Project\\HTML\\BIMS\\src\\view\\other\\booklist.vue","mtime":1663588873832},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\css-loader\\index.js","mtime":1663239435871},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1663239452324},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\postcss-loader\\src\\index.js","mtime":1663239454003},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663239443669},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\vue-loader\\lib\\index.js","mtime":1663239452314}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\n\ttobody::-webkit-scrollbar {\n\t\tbackground-color: #f5f5f5;\n\t\twidth: 5px;\n\t}\n\n\t/*定义滚动条轨道 内阴影+圆角*/\ntobody::-webkit-scrollbar-track {\n\t\t-webkit-box-shadow: inset 0 0 6px 6px rgba(0, 0, 0, 0.1);\n\t\tborder-radius: 10px;\n\t\tbackground-color: #f5f5f5;\n\t}\n\n\t/*定义滑块 内阴影+圆角*/\n\ttobody::-webkit-scrollbar-thumb {\n\t\tborder-radius: 10px;\n\t\t-webkit-box-shadow: inset 0 0 6px 6px rgba(0, 0, 0, 0.3);\n\t\tbackground-color: #ddd;\n\t}\n",{"version":3,"sources":["booklist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"booklist.vue","sourceRoot":"src/view/other","sourcesContent":["<template>\r\n\t<div>\r\n\r\n\t\t<el-table :data=\"booklist\" style=\"width: 100%;\" max-height=\"540\" >\r\n\t\t\t<el-table-column type=\"index\" label=\"序号\" width=\"150\" fixed></el-table-column>\r\n\t\t\t<el-table-column prop=\"isbn\" label=\"ISBN\" width=\"150\" fixed></el-table-column>\r\n\t\t\t<el-table-column prop=\"title\" label=\"书名\" width=\"120\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t{{scope.row.title | ellipsis}}\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column label=\"封面\" width=\"120\" prop=\"imgurl\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-popover placement=\"top-start\" title=\"\" trigger=\"hover\">\r\n\t\t\t\t\t\t<img :src=\"scope.row.imgurl  | geturl(scope.row,scope.row.imgurl)\" alt=\"\" style=\"width: 160px;height: 210px\">\r\n\t\t\t\t\t\t<img slot=\"reference\" :src=\"scope.row.imgurl  | geturl(scope.row,scope.row.imgurl)\" style=\"width: 80px;height: 106px\">\r\n\t\t\t\t\t</el-popover>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"author\" label=\"作者\" width=\"120\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t{{scope.row.author | ellipsis}}\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"publisher\" label=\"出版社\" width=\"120\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t{{scope.row.publisher | ellipsis}}\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column prop=\"publication_year\" label=\"出版年份\" width=\"120\"></el-table-column>\r\n\t\t\t<el-table-column prop=\"price\" label=\"进价\" width=\"120\"></el-table-column>\r\n\t\t\t<el-table-column prop=\"price\" label=\"售价\" width=\"120\"></el-table-column>\r\n\t\t\t<el-table-column prop=\"num\" label=\"库存量\" width=\"120\"></el-table-column>\r\n\t\t\t<el-table-column prop=\"nums\" label=\"售价\" width=\"120\"></el-table-column>\r\n\r\n\t\t\t<el-table-column fixed=\"right\" label=\"操作\" width=\"120\">\r\n\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t<el-button @click.native.prevent=\"deleteRow(scope.$index, tableData)\" type=\"text\" size=\"small\">\r\n\t\t\t\t\t\t移除\r\n\t\t\t\t\t</el-button>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t<div v-if=\"total!=0\" style=\"text-align: center;\">\r\n\t\t\t<el-pagination @current-change=\"gai\" :current-page=\"currentPage\" :page-sizes=\"[5, 10, 20, 40,100]\"\r\n\t\t\t\tbackground :page-size=\"pagesize\" layout=\"sizes, prev, pager, next, total ,jumper\" :total=\"total\">\r\n\t\t\t</el-pagination>\r\n\t\t</div>\r\n\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport axios from 'axios';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbooklist: [],\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\tcurrentPage: 1,\r\n\t\t\t\tpagesize: 10,\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\t// 使文字显示少于10个字符，防止页面布局变动\r\n\t\t\tellipsis(value) {\r\n\t\t\t\tif (!value)\r\n\t\t\t\t\treturn \"\";\r\n\t\t\t\tif (value.length > 10) {\r\n\t\t\t\t\treturn value.slice(0, 10) + \"...\";\r\n\t\t\t\t}\r\n\t\t\t\treturn value;\r\n\t\t\t},\r\n\t\t\t// 防止图片内容不符\r\n\t\t\tgeturl(url, n) {\r\n\t\t\t\t// console.log(url,n)\r\n\t\t\t\tvar url2 =\r\n\t\t\t\t\t\"http://celiang.oss-cn-hangzhou.aliyuncs.com/measurement/2022-05/19/G0JSVphpS2MItH1652924237220519.jpg\";\r\n\t\t\t\tvar img = new Image();\r\n\t\t\t\timg.src = url;\r\n\t\t\t\timg.onload;\r\n\t\t\t\tsetTimeout((that) => {\r\n\t\t\t\t\tif (img.width < 10 || img.height < 10) {\r\n\t\t\t\t\t\tn.imgurl = url2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 1500)\r\n\t\t\t\treturn url;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tvar that = this;\r\n\t\t\taxios.get('http://127.0.0.1/book/booklist').then(res => {\r\n\t\t\t\tthat.booklist = res.data;\r\n\t\t\t\t// console.log(res.data)\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(\"获取数据失败\" + err);\r\n\t\t\t})\r\n\t\t\taxios.get('http://127.0.0.1/book/num').then(res => {\r\n\t\t\t\tthat.total = res.data[0].num;\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(\"获取数据失败\" + err);\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//分页\r\n\t\t\tgai(currentPage) {\r\n\t\t\t\tthis.currentPage = currentPage;\r\n\t\t\t\tconsole.log(this.currentPage)\r\n\t\t\t},\r\n\t\t\t// 页数\r\n\t\t\thandleSizeChange: function(size) {\r\n\t\t\t\tthis.pagesize = size;\r\n\t\t\t\tconsole.log(this.pagesize)\r\n\t\t\t},\r\n\t\t\tdeleteRow(index, rows) {\r\n\t\t\t\trows.splice(index, 1);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\n\r\n\r\n<style scoped>\r\n\r\n\t/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/\r\n\ttobody::-webkit-scrollbar {\r\n\t\tbackground-color: #f5f5f5;\r\n\t\twidth: 5px;\r\n\t}\r\n\r\n\t/*定义滚动条轨道 内阴影+圆角*/\r\ntobody::-webkit-scrollbar-track {\r\n\t\t-webkit-box-shadow: inset 0 0 6px 6px rgba(0, 0, 0, 0.1);\r\n\t\tborder-radius: 10px;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t/*定义滑块 内阴影+圆角*/\r\n\ttobody::-webkit-scrollbar-thumb {\r\n\t\tborder-radius: 10px;\r\n\t\t-webkit-box-shadow: inset 0 0 6px 6px rgba(0, 0, 0, 0.3);\r\n\t\tbackground-color: #ddd;\r\n\t}\r\n</style>\n"]}]}