{"remainingRequest":"E:\\Project\\HTML\\BIMS_s1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Project\\HTML\\BIMS_s1\\src\\view\\Payment\\views\\Myself.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Project\\HTML\\BIMS_s1\\src\\view\\Payment\\views\\Myself.vue","mtime":1664115273886},{"path":"E:\\Project\\HTML\\BIMS_s1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663239443669},{"path":"E:\\Project\\HTML\\BIMS_s1\\node_modules\\babel-loader\\lib\\index.js","mtime":1663239454289},{"path":"E:\\Project\\HTML\\BIMS_s1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663239443669},{"path":"E:\\Project\\HTML\\BIMS_s1\\node_modules\\vue-loader\\lib\\index.js","mtime":1663239452314}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport user from '../../../config/usercenter/usercenter.js';\nimport bill from '../../../config/billcenter/billcenter.js'\n\n// 格式化日对象\nconst getNowDate = () => {\n\tvar date = new Date();\n\tvar sign2 = \":\";\n\tvar year = date.getFullYear() // 年\n\tvar month = date.getMonth() + 1; // 月\n\tvar day = date.getDate(); // 日\n\tvar hour = date.getHours(); // 时\n\tvar minutes = date.getMinutes(); // 分\n\tvar seconds = date.getSeconds() //秒\n\tvar weekArr = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期天'];\n\tvar week = weekArr[date.getDay()];\n\t// 给一位数的数据前面加 “0”\n\tif (month >= 1 && month <= 9) {\n\t\tmonth = \"0\" + month;\n\t}\n\tif (day >= 0 && day <= 9) {\n\t\tday = \"0\" + day;\n\t}\n\tif (hour >= 0 && hour <= 9) {\n\t\thour = \"0\" + hour;\n\t}\n\tif (minutes >= 0 && minutes <= 9) {\n\t\tminutes = \"0\" + minutes;\n\t}\n\tif (seconds >= 0 && seconds <= 9) {\n\t\tseconds = \"0\" + seconds;\n\t}\n\treturn year + \"-\" + month + \"-\" + day + \" \" + hour + sign2 + minutes + sign2 + seconds;\n}\n\nexport default {\n\tname: \"AppRegister\",\n\tdata() {\n\t\treturn {\n\t\t\tname: '',\n\t\t\tusername: '',\n\t\t\tpoint: '',\n\t\t\tm: '',\n\t\t\tmoneyNum: '',\n\t\t\tshowMoney: false,\n\n\t\t}\n\t},\n\tcomputed: {\n\t\tgetMe() {\n\t\t\treturn user.state.users.filter(p => p.id == user.state.id)[0];\n\t\t}\n\t},\n\tmounted() {\n\t\t//获取初始信息\n\t\t// console.log(this.getMe)\n\t\tthis.name = this.getMe.name\n\t\tthis.username = this.getMe.username\n\t\tthis.point = this.getMe.point;\n\t\tthis.m = this.getMe.m\n\t},\n\tmethods: {\n\t\t// 设置隐藏\n\t\tclikeclose() {\n\t\t\tthis.showphone = true;\n\t\t\tthis.$emit('closeMyself', false)\n\t\t},\n\t\tclikeMoney() {\n\t\t\tthis.showMoney = false\n\t\t},\n\t\topenMoney() {\n\t\t\t// this.$emit('closeMyself', false)\n\t\t\tthis.showMoney = true\n\t\t},\n\t\ttoMoney() {\n\t\t\tthis.$store.dispatch({\n\t\t\t\ttype: \"asynctoMoney\",\n\t\t\t\trecharge: {\n\t\t\t\t\tuser: \"\",\n\t\t\t\t\tevent: \"充值\",\n\t\t\t\t\tchangeManey: this.moneyNum,\n\t\t\t\t\tdata: \"0\",\n\t\t\t\t\tmoneyNum: \"0\",\n\t\t\t\t\tpoint: \"0\"\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (this.$store.state.toMoneyToken == 1) {\n\t\t\t\tthis.showMoney = false;\n\n\t\t\t\tthis.moneyNum = ''\n\t\t\t\tthis.m = this.$store.state.m\n\t\t\t}\n\t\t\tthis.$message({\n\t\t\t\tmessage: \"充值成功！\",\n\t\t\t\ttype: \"succes\",\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t\t// 生成订单信息\n\t\t\tvar temp = {\n\t\t\t\tuid: this.getMe.id,\n\t\t\t\tcreate_time: getNowDate(),\n\t\t\t\tid: Date.now(),\n\t\t\t\tstatus: 9,\n\t\t\t\ttotal_payment: parseFloat(this.moneyNum),\n\t\t\t\tlist: [],\n\t\t\t\tstart: 0,\n\t\t\t\tpoint: 0,\n\t\t\t}\n\t\t\t// 插入订单\n\t\t\tbill.commit({\n\t\t\t\ttype: 'insertBillList',\n\t\t\t\tdata: temp\n\t\t\t})\n\t\t\tthis.$emit('closeMyself', false)\n\t\t},\n\t}\n\n}\n",{"version":3,"sources":["Myself.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Myself.vue","sourceRoot":"src/view/Payment/views","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<!-- 用户充值 -->\r\n\t\t<el-dialog title=\"用户充值\" width=\"400px\" :visible=\"showMoney\" :before-close=\"clikeMoney\">\r\n\t\t\t<el-form label-position=\"right\">\r\n\t\t\t\t<el-form-item label=\"充值金额\">\r\n\t\t\t\t\t<el-input v-model=\"moneyNum\" v-text=\"\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-button @click=\"toMoney\">确认充值</el-button>\r\n\t\t\t</el-form>\r\n\t\t</el-dialog>\r\n\t\t<!-- 查看用户信息 -->\r\n\t\t<el-dialog title=\"个人信息\" width=\"330px\" :visible=\"!showMoney\" :before-close=\"clikeclose\">\r\n\t\t\t<el-form label-position=\"right\">\r\n\t\t\t\t<el-form-item label=\"姓名:\" style=\"margin-top: 3%;font-size: 18px;\">\r\n\t\t\t\t\t<el-input maxlength=\"4\" show-word-limit v-model=\"name\" class=\"adinput\"\r\n\t\t\t\t\t\tstyle=\"width: 200px;margin-left: 8%;\" readonly>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"账号:\" style=\"margin-top: 3%;font-size: 18px;\">\r\n\t\t\t\t\t<el-input v-model=\"username\" class=\"adinput\" style=\"width: 200px;margin-left: 8%;\" readonly>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"余额:\" style=\"margin-top: 3%;font-size: 18px;\">\r\n\t\t\t\t\t<el-input v-model=\"m\" class=\"adinput\" style=\"width: 200px;margin-left: 8%;\" readonly></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"积分:\" style=\"margin-top: 3%;font-size: 18px;\">\r\n\t\t\t\t\t<el-input v-model=\"point\" class=\"adinput\" style=\"width: 200px;margin-left: 8%;\" readonly>\r\n\t\t\t\t\t</el-input class=\"adinput\">\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"openMoney\" style=\"background-color: #0099FF;color: white;\">充值余额\r\n\t\t\t\t</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport user from '../../../config/usercenter/usercenter.js';\r\n\timport bill from '../../../config/billcenter/billcenter.js'\r\n\r\n\t// 格式化日对象\r\n\tconst getNowDate = () => {\r\n\t\tvar date = new Date();\r\n\t\tvar sign2 = \":\";\r\n\t\tvar year = date.getFullYear() // 年\r\n\t\tvar month = date.getMonth() + 1; // 月\r\n\t\tvar day = date.getDate(); // 日\r\n\t\tvar hour = date.getHours(); // 时\r\n\t\tvar minutes = date.getMinutes(); // 分\r\n\t\tvar seconds = date.getSeconds() //秒\r\n\t\tvar weekArr = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期天'];\r\n\t\tvar week = weekArr[date.getDay()];\r\n\t\t// 给一位数的数据前面加 “0”\r\n\t\tif (month >= 1 && month <= 9) {\r\n\t\t\tmonth = \"0\" + month;\r\n\t\t}\r\n\t\tif (day >= 0 && day <= 9) {\r\n\t\t\tday = \"0\" + day;\r\n\t\t}\r\n\t\tif (hour >= 0 && hour <= 9) {\r\n\t\t\thour = \"0\" + hour;\r\n\t\t}\r\n\t\tif (minutes >= 0 && minutes <= 9) {\r\n\t\t\tminutes = \"0\" + minutes;\r\n\t\t}\r\n\t\tif (seconds >= 0 && seconds <= 9) {\r\n\t\t\tseconds = \"0\" + seconds;\r\n\t\t}\r\n\t\treturn year + \"-\" + month + \"-\" + day + \" \" + hour + sign2 + minutes + sign2 + seconds;\r\n\t}\r\n\r\n\texport default {\r\n\t\tname: \"AppRegister\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tname: '',\r\n\t\t\t\tusername: '',\r\n\t\t\t\tpoint: '',\r\n\t\t\t\tm: '',\r\n\t\t\t\tmoneyNum: '',\r\n\t\t\t\tshowMoney: false,\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetMe() {\r\n\t\t\t\treturn user.state.users.filter(p => p.id == user.state.id)[0];\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t//获取初始信息\r\n\t\t\t// console.log(this.getMe)\r\n\t\t\tthis.name = this.getMe.name\r\n\t\t\tthis.username = this.getMe.username\r\n\t\t\tthis.point = this.getMe.point;\r\n\t\t\tthis.m = this.getMe.m\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 设置隐藏\r\n\t\t\tclikeclose() {\r\n\t\t\t\tthis.showphone = true;\r\n\t\t\t\tthis.$emit('closeMyself', false)\r\n\t\t\t},\r\n\t\t\tclikeMoney() {\r\n\t\t\t\tthis.showMoney = false\r\n\t\t\t},\r\n\t\t\topenMoney() {\r\n\t\t\t\t// this.$emit('closeMyself', false)\r\n\t\t\t\tthis.showMoney = true\r\n\t\t\t},\r\n\t\t\ttoMoney() {\r\n\t\t\t\tthis.$store.dispatch({\r\n\t\t\t\t\ttype: \"asynctoMoney\",\r\n\t\t\t\t\trecharge: {\r\n\t\t\t\t\t\tuser: \"\",\r\n\t\t\t\t\t\tevent: \"充值\",\r\n\t\t\t\t\t\tchangeManey: this.moneyNum,\r\n\t\t\t\t\t\tdata: \"0\",\r\n\t\t\t\t\t\tmoneyNum: \"0\",\r\n\t\t\t\t\t\tpoint: \"0\"\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (this.$store.state.toMoneyToken == 1) {\r\n\t\t\t\t\tthis.showMoney = false;\r\n\r\n\t\t\t\t\tthis.moneyNum = ''\r\n\t\t\t\t\tthis.m = this.$store.state.m\r\n\t\t\t\t}\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: \"充值成功！\",\r\n\t\t\t\t\ttype: \"succes\",\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t})\r\n\t\t\t\t// 生成订单信息\r\n\t\t\t\tvar temp = {\r\n\t\t\t\t\tuid: this.getMe.id,\r\n\t\t\t\t\tcreate_time: getNowDate(),\r\n\t\t\t\t\tid: Date.now(),\r\n\t\t\t\t\tstatus: 9,\r\n\t\t\t\t\ttotal_payment: parseFloat(this.moneyNum),\r\n\t\t\t\t\tlist: [],\r\n\t\t\t\t\tstart: 0,\r\n\t\t\t\t\tpoint: 0,\r\n\t\t\t\t}\r\n\t\t\t\t// 插入订单\r\n\t\t\t\tbill.commit({\r\n\t\t\t\t\ttype: 'insertBillList',\r\n\t\t\t\t\tdata: temp\r\n\t\t\t\t})\r\n\t\t\t\tthis.$emit('closeMyself', false)\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.satifycore {\r\n\t\tmargin-top: 30px;\r\n\t}\r\n\r\n\t.adinput {\r\n\t\tmargin-left: -50px;\r\n\t\twidth: 350px;\r\n\t}\r\n\r\n\t.el-dialog__header {\r\n\t\tpadding: 0px 20px 0px;\r\n\t}\r\n\r\n\t.el-dialog__footer {\r\n\t\tpadding: 0px 20px 0px;\r\n\t}\r\n\r\n\t.el-dialog__body {\r\n\t\tpadding: 0px 20px 0px;\r\n\t}\r\n\r\n\t.el-form-item__label {\r\n\t\ttext-align: right;\r\n\t\tvertical-align: middle;\r\n\t\tfloat: left;\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #606266;\r\n\t\tline-height: 20px;\r\n\t\tpadding: 0 0px 0 0;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin-top: 3%;\r\n\t}\r\n</style>\n"]}]}