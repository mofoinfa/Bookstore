{"remainingRequest":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\babel-loader\\lib\\index.js!D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\src\\view\\Payment\\views\\Myself.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\src\\view\\Payment\\views\\Myself.vue","mtime":1666579076981},{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663239443669},{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\babel-loader\\lib\\index.js","mtime":1663239454289},{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663239443669},{"path":"D:\\杂项\\作业\\第三阶段实训\\vue前端大作业\\图书馆里系统（vue前端）\\node_modules\\vue-loader\\lib\\index.js","mtime":1663239452314}],"contextDependencies":[],"result":["import \"core-js/modules/es6.date.now\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.filter\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport user from \"../../../config/usercenter/usercenter.js\";\nimport bill from \"../../../config/billcenter/billcenter.js\"; // 格式化日对象\n\nvar getNowDate = function getNowDate() {\n  var date = new Date();\n  var sign2 = \":\";\n  var year = date.getFullYear(); // 年\n\n  var month = date.getMonth() + 1; // 月\n\n  var day = date.getDate(); // 日\n\n  var hour = date.getHours(); // 时\n\n  var minutes = date.getMinutes(); // 分\n\n  var seconds = date.getSeconds(); //秒\n\n  var weekArr = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期天'];\n  var week = weekArr[date.getDay()]; // 给一位数的数据前面加 “0”\n\n  if (month >= 1 && month <= 9) {\n    month = \"0\" + month;\n  }\n\n  if (day >= 0 && day <= 9) {\n    day = \"0\" + day;\n  }\n\n  if (hour >= 0 && hour <= 9) {\n    hour = \"0\" + hour;\n  }\n\n  if (minutes >= 0 && minutes <= 9) {\n    minutes = \"0\" + minutes;\n  }\n\n  if (seconds >= 0 && seconds <= 9) {\n    seconds = \"0\" + seconds;\n  }\n\n  return year + \"-\" + month + \"-\" + day + \" \" + hour + sign2 + minutes + sign2 + seconds;\n};\n\nexport default {\n  name: \"AppRegister\",\n  data: function data() {\n    return {\n      name: '',\n      username: '',\n      point: '',\n      m: '',\n      moneyNum: '',\n      showMoney: false\n    };\n  },\n  computed: {\n    getMe: function getMe() {\n      return user.state.users.filter(function (p) {\n        return p.id == user.state.id;\n      })[0];\n    }\n  },\n  mounted: function mounted() {\n    //获取初始信息\n    // console.log(this.getMe)\n    this.name = this.getMe.name;\n    this.username = this.getMe.username;\n    this.point = this.getMe.point;\n    this.m = this.getMe.m;\n  },\n  methods: {\n    // 设置隐藏\n    clikeclose: function clikeclose() {\n      this.showphone = true;\n      this.$emit('closeMyself', false);\n    },\n    clikeMoney: function clikeMoney() {\n      this.showMoney = false;\n    },\n    openMoney: function openMoney() {\n      // this.$emit('closeMyself', false)\n      this.showMoney = true;\n    },\n    toMoney: function toMoney() {\n      this.$store.dispatch({\n        type: \"asynctoMoney\",\n        recharge: {\n          user: \"\",\n          event: \"充值\",\n          changeManey: this.moneyNum,\n          data: \"0\",\n          moneyNum: \"0\",\n          point: \"0\"\n        }\n      });\n\n      if (this.$store.state.toMoneyToken == 1) {\n        this.showMoney = false;\n        this.m = this.$store.state.m;\n        console.log(this.moneyNum); // 生成订单信息\n\n        var temp = {\n          uid: this.getMe.id,\n          create_time: getNowDate(),\n          id: Date.now(),\n          status: 9,\n          total_payment: parseFloat(this.moneyNum),\n          list: [],\n          start: 0,\n          point: 0 // 插入订单\n\n        };\n        bill.commit({\n          type: 'insertBillList',\n          data: temp\n        });\n        this.$message({\n          message: \"充值成功！\",\n          type: \"succes\",\n          duration: 2000\n        });\n        this.moneyNum = '';\n      } else {\n        this.$message({\n          message: \"充值失败！\",\n          type: \"error\",\n          duration: 2000\n        });\n      }\n\n      this.$emit('closeMyself', false);\n    }\n  }\n};",{"version":3,"sources":["Myself.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<!-- 用户充值 -->\r\n\t\t<el-dialog title=\"用户充值\" width=\"400px\" :visible=\"showMoney\" :before-close=\"clikeMoney\">\r\n\t\t\t<el-form label-position=\"right\">\r\n\t\t\t\t<el-form-item label=\"充值金额\">\r\n\t\t\t\t\t<el-input v-model=\"moneyNum\" v-text=\"\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-button @click=\"toMoney\">确认充值</el-button>\r\n\t\t\t</el-form>\r\n\t\t</el-dialog>\r\n\t\t<!-- 查看用户信息 -->\r\n\t\t<el-dialog title=\"个人信息\" width=\"330px\" :visible=\"!showMoney\" :before-close=\"clikeclose\">\r\n\t\t\t<el-form label-position=\"right\">\r\n\t\t\t\t<el-form-item label=\"姓名:\" style=\"margin-top: 3%;font-size: 18px;\">\r\n\t\t\t\t\t<el-input maxlength=\"4\" show-word-limit v-model=\"name\" class=\"adinput\"\r\n\t\t\t\t\t\tstyle=\"width: 200px;margin-left: 8%;\" readonly>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"账号:\" style=\"margin-top: 3%;font-size: 18px;\">\r\n\t\t\t\t\t<el-input v-model=\"username\" class=\"adinput\" style=\"width: 200px;margin-left: 8%;\" readonly>\r\n\t\t\t\t\t</el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"余额:\" style=\"margin-top: 3%;font-size: 18px;\">\r\n\t\t\t\t\t<el-input v-model=\"m\" class=\"adinput\" style=\"width: 200px;margin-left: 8%;\" readonly></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"积分:\" style=\"margin-top: 3%;font-size: 18px;\">\r\n\t\t\t\t\t<el-input v-model=\"point\" class=\"adinput\" style=\"width: 200px;margin-left: 8%;\" readonly>\r\n\t\t\t\t\t</el-input class=\"adinput\">\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n\t\t\t\t<el-button @click=\"openMoney\" style=\"background-color: #0099FF;color: white;\">充值余额\r\n\t\t\t\t</el-button>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport user from '../../../config/usercenter/usercenter.js';\r\n\timport bill from '../../../config/billcenter/billcenter.js'\r\n\r\n\t// 格式化日对象\r\n\tconst getNowDate = () => {\r\n\t\tvar date = new Date();\r\n\t\tvar sign2 = \":\";\r\n\t\tvar year = date.getFullYear() // 年\r\n\t\tvar month = date.getMonth() + 1; // 月\r\n\t\tvar day = date.getDate(); // 日\r\n\t\tvar hour = date.getHours(); // 时\r\n\t\tvar minutes = date.getMinutes(); // 分\r\n\t\tvar seconds = date.getSeconds() //秒\r\n\t\tvar weekArr = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期天'];\r\n\t\tvar week = weekArr[date.getDay()];\r\n\t\t// 给一位数的数据前面加 “0”\r\n\t\tif (month >= 1 && month <= 9) {\r\n\t\t\tmonth = \"0\" + month;\r\n\t\t}\r\n\t\tif (day >= 0 && day <= 9) {\r\n\t\t\tday = \"0\" + day;\r\n\t\t}\r\n\t\tif (hour >= 0 && hour <= 9) {\r\n\t\t\thour = \"0\" + hour;\r\n\t\t}\r\n\t\tif (minutes >= 0 && minutes <= 9) {\r\n\t\t\tminutes = \"0\" + minutes;\r\n\t\t}\r\n\t\tif (seconds >= 0 && seconds <= 9) {\r\n\t\t\tseconds = \"0\" + seconds;\r\n\t\t}\r\n\t\treturn year + \"-\" + month + \"-\" + day + \" \" + hour + sign2 + minutes + sign2 + seconds;\r\n\t}\r\n\r\n\texport default {\r\n\t\tname: \"AppRegister\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tname: '',\r\n\t\t\t\tusername: '',\r\n\t\t\t\tpoint: '',\r\n\t\t\t\tm: '',\r\n\t\t\t\tmoneyNum: '',\r\n\t\t\t\tshowMoney: false,\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tgetMe() {\r\n\t\t\t\treturn user.state.users.filter(p => p.id == user.state.id)[0];\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t//获取初始信息\r\n\t\t\t// console.log(this.getMe)\r\n\t\t\tthis.name = this.getMe.name\r\n\t\t\tthis.username = this.getMe.username\r\n\t\t\tthis.point = this.getMe.point;\r\n\t\t\tthis.m = this.getMe.m\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 设置隐藏\r\n\t\t\tclikeclose() {\r\n\t\t\t\tthis.showphone = true;\r\n\t\t\t\tthis.$emit('closeMyself', false)\r\n\t\t\t},\r\n\t\t\tclikeMoney() {\r\n\t\t\t\tthis.showMoney = false\r\n\t\t\t},\r\n\t\t\topenMoney() {\r\n\t\t\t\t// this.$emit('closeMyself', false)\r\n\t\t\t\tthis.showMoney = true\r\n\t\t\t},\r\n\t\t\ttoMoney() {\r\n\t\t\t\tthis.$store.dispatch({\r\n\t\t\t\t\ttype: \"asynctoMoney\",\r\n\t\t\t\t\trecharge: {\r\n\t\t\t\t\t\tuser: \"\",\r\n\t\t\t\t\t\tevent: \"充值\",\r\n\t\t\t\t\t\tchangeManey: this.moneyNum,\r\n\t\t\t\t\t\tdata: \"0\",\r\n\t\t\t\t\t\tmoneyNum: \"0\",\r\n\t\t\t\t\t\tpoint: \"0\"\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (this.$store.state.toMoneyToken == 1) {\r\n\t\t\t\t\tthis.showMoney = false;\r\n\t\t\t\t\tthis.m = this.$store.state.m\r\n\t\t\t\t\tconsole.log(this.moneyNum)\r\n\t\t\t\t\t// 生成订单信息\r\n\t\t\t\t\tvar temp = {\r\n\t\t\t\t\t\tuid: this.getMe.id,\r\n\t\t\t\t\t\tcreate_time: getNowDate(),\r\n\t\t\t\t\t\tid: Date.now(),\r\n\t\t\t\t\t\tstatus: 9,\r\n\t\t\t\t\t\ttotal_payment: parseFloat(this.moneyNum),\r\n\t\t\t\t\t\tlist: [],\r\n\t\t\t\t\t\tstart: 0,\r\n\t\t\t\t\t\tpoint: 0,\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 插入订单\r\n\t\t\t\t\tbill.commit({\r\n\t\t\t\t\t\ttype: 'insertBillList',\r\n\t\t\t\t\t\tdata: temp\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: \"充值成功！\",\r\n\t\t\t\t\t\ttype: \"succes\",\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.moneyNum = ''\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: \"充值失败！\",\r\n\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.$emit('closeMyself', false)\r\n\t\t\t},\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.satifycore {\r\n\t\tmargin-top: 30px;\r\n\t}\r\n\r\n\t.adinput {\r\n\t\tmargin-left: -50px;\r\n\t\twidth: 350px;\r\n\t}\r\n\r\n\t.el-dialog__header {\r\n\t\tpadding: 0px 20px 0px;\r\n\t}\r\n\r\n\t.el-dialog__footer {\r\n\t\tpadding: 0px 20px 0px;\r\n\t}\r\n\r\n\t.el-dialog__body {\r\n\t\tpadding: 0px 20px 0px;\r\n\t}\r\n\r\n\t.el-form-item__label {\r\n\t\ttext-align: right;\r\n\t\tvertical-align: middle;\r\n\t\tfloat: left;\r\n\t\tfont-size: 15px;\r\n\t\tcolor: #606266;\r\n\t\tline-height: 20px;\r\n\t\tpadding: 0 0px 0 0;\r\n\t\tbox-sizing: border-box;\r\n\t\tmargin-top: 3%;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/view/Payment/views"}]}