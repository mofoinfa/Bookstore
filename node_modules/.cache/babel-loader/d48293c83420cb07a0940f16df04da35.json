{"remainingRequest":"E:\\Project\\HTML\\BIMS_s1\\node_modules\\babel-loader\\lib\\index.js!E:\\Project\\HTML\\BIMS_s1\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Project\\HTML\\BIMS_s1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Project\\HTML\\BIMS_s1\\src\\view\\list\\Blog.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Project\\HTML\\BIMS_s1\\src\\view\\list\\Blog.vue","mtime":1664088521535},{"path":"E:\\Project\\HTML\\BIMS_s1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663239443669},{"path":"E:\\Project\\HTML\\BIMS_s1\\node_modules\\babel-loader\\lib\\index.js","mtime":1663239454289},{"path":"E:\\Project\\HTML\\BIMS_s1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663239443669},{"path":"E:\\Project\\HTML\\BIMS_s1\\node_modules\\vue-loader\\lib\\index.js","mtime":1663239452314}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport bill from \"../../config/billcenter/billcenter.js\";\nimport shop from \"../../config/shopingcenter/shopcenter.js\";\nimport book from \"../bookcenter/image/bookcenter.js\";\nexport default {\n  computed: {\n    getBillList: function getBillList() {\n      return bill.getters.getmybilllist;\n    }\n  },\n  data: function data() {\n    return {\n      isShow: false\n    };\n  },\n  methods: {\n    tobook: function tobook(item) {\n      this.$router.push({\n        path: \"/book\",\n        query: item\n      });\n      shop.commit({\n        type: \"setBid\",\n        data: item\n      });\n    },\n    goother: function goother() {\n      this.$router.push('/');\n    },\n    delCost: function delCost(item, i) {\n      item.status = i;\n\n      if (i == 3 || i == 4) {\n        for (var i = 0; i < item.list.length; i++) {\n          book.commit({\n            type: 'editBookNumplus',\n            data: item.list[i]\n          });\n        }\n      }\n\n      bill.commit({\n        type: 'editBillList',\n        data: item\n      });\n\n      if (i != 3) {\n        this.$notify({\n          title: '订单通知',\n          message: '订单删除成功'\n        });\n      } else {\n        this.$notify({\n          title: '订单通知',\n          message: '订单取消成功'\n        });\n      }\n    },\n    changecost: function changecost(item) {\n      var _this = this;\n\n      this.$confirm('请选择支付类型?', '提示', {\n        distinguishCancelAndClose: true,\n        confirmButtonText: '积分加余额',\n        cancelButtonText: '余额',\n        type: 'warning'\n      }).then(function () {\n        if (_this.$store.state.point == 0) {\n          // console.log('积分不足')\n          _this.$notify({\n            title: '积分通知',\n            message: '积分不足',\n            type: 'warning'\n          });\n\n          return;\n        }\n\n        var tempbill = {\n          money: item.total_payment,\n          point: 0 // console.log(this.$store.state.point)\n\n        };\n        var point = 0;\n\n        if (_this.$store.state.point > parseInt(item.total_payment / 10)) {\n          tempbill.point = parseInt(_this.$store.state.point) - parseInt(item.total_payment / 10);\n          point = parseInt(item.total_payment / 10);\n          tempbill.money = parseFloat(item.total_payment) * 0.9;\n        } else {\n          tempbill.money = parseFloat(item.total_payment) - parseFloat(_this.$store.state.point) / 10;\n          point = _this.$store.state.point;\n        }\n\n        if (_this.$store.m < tempbill.money) {\n          _this.$notify({\n            title: '余额通知',\n            message: '余额不足',\n            type: 'warning'\n          }); // console.log('余额不足请充值')\n\n\n          return;\n        }\n\n        item.status = 2;\n        item.point = tempbill.point;\n\n        _this.$store.commit({\n          type: 'CostBookPlus',\n          data: tempbill\n        });\n\n        item.point = -point;\n        bill.commit({\n          type: 'editBillList',\n          data: item\n        });\n\n        _this.$notify({\n          title: '支付通知',\n          message: '积分加余额支付成功!',\n          type: 'success'\n        }); // this.$message({\n        // \ttype: 'success',\n        // \tmessage: '积分加余额支付成功!'\n        // });\n\n      }).catch(function (action) {\n        if (action === 'cancel') {\n          if (parseFloat(_this.$store.state.m) < parseFloat(item.total_payment)) {\n            // console.log('余额不足请充值')\n            _this.$notify({\n              title: '余额通知',\n              message: '余额不足',\n              type: 'warning'\n            });\n\n            return;\n          }\n\n          item.status = 2;\n          item.point = parseInt(item.total_payment / 10);\n\n          _this.$store.commit({\n            type: 'CostBook',\n            data: item\n          });\n\n          bill.commit({\n            type: 'editBillList',\n            data: item\n          });\n\n          _this.$notify({\n            title: '支付通知',\n            message: '余额支付成功!',\n            type: 'success'\n          });\n        } else {\n          _this.$notify({\n            title: '支付通知',\n            message: '支付已取消!'\n          });\n        }\n      });\n    }\n  },\n  created: function created() {\n    if (!this.$store.state.f) {\n      this.$emit(\"loginstate\", {\n        flag: true\n      });\n      this.$router.push('/');\n    }\n\n    bill.commit({\n      type: \"setUid\",\n      data: this.$store.state.id\n    });\n  }\n};",{"version":3,"sources":["Blog.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"orderList\" style=\"margin-left: 15%;\">\r\n\t\t<div class=\"page-wrap w\">\r\n\t\t\t<div class=\"orderList-table\">\r\n\t\t\t\t<table class=\"order-head\">\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr class=\"table\">\r\n\t\t\t\t\t\t\t<th class=\"order_info\">商品信息</th>\r\n\t\t\t\t\t\t\t<th class=\"order_price\">单价</th>\r\n\t\t\t\t\t\t\t<th class=\"order_num\">数量</th>\r\n\t\t\t\t\t\t\t<th class=\"real_pay\">实付款</th>\r\n\t\t\t\t\t\t\t<th class=\"order_status\">订单状态</th>\r\n\t\t\t\t\t\t\t<th class=\"order_handle\" style=\"\">交易操作</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t\t<div v-for=\"(item, index) in getBillList\" :key=\"index\" class=\"order-body\" style=\"width: 100%;\">\r\n\t\t\t\t\t<table class=\"body_top\" style=\"width: 1083px;\">\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<div class=\"body_top_con\">\r\n\t\t\t\t\t\t\t\t<div class=\"top_con_shop\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"top_con_num\" style=\"font-weight: bold;\">订单号：{{ item.id }}</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"top_con_time\">下单时间：{{ item.create_time }}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"top_con_del\" v-if=\"item.status==2\">\r\n\t\t\t\t\t\t\t\t\t<i class=\"el-icon-delete\" @click=\"delCost(item,5)\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"top_con_del\" v-else>\r\n\t\t\t\t\t\t\t\t\t<i class=\"el-icon-delete\" @click=\"delCost(item,4)\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<tr class=\"body_content\">\r\n\t\t\t\t\t\t\t\t<div v-for=\"(shopbook, ind) in item.list\" :key=\"ind\">\r\n\t\t\t\t\t\t\t\t\t<td class=\"body_content_info\" @click=\"tobook(shopbook.book)\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"info_box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"info_box_img\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img :src=\"shopbook.book.imgurl\" alt=\"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"height: 100px;width: 80px;\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"info_describe\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-weight: 600;font-size: 15px;color:#3c3c3c\">书名：{{ shopbook.book.name }}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-weight: 600;font-size: 15px;color:#3c3c3c\">作者：{{shopbook.book.author}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-weight: 600;font-size: 15px;color:#3c3c3c\">出版社：{{shopbook.book.publisher}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"font-weight: 600;font-size: 15px;color:#3c3c3c\">出版年份：{{shopbook.book.publication_year}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td class=\"order_price body_content_price\" style=\"margin: auto auto;\">\r\n\t\t\t\t\t\t\t\t\t\t<p>￥{{ shopbook.book.price }}</p>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td class=\"order_num body_content_num\">\r\n\t\t\t\t\t\t\t\t\t\t<p>{{ shopbook.num }}</p>\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<td :rowspan=\"item.list.length\" headers=\"\" class=\"real_pay body_content_pay\">\r\n\t\t\t\t\t\t\t\t\t<p class=\"price\">￥{{ item.total_payment }}</p>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td :rowspan=\"item.list.length\" headers=\"\" class=\"order_status body_content_status\">\r\n\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"item.status == 1\">等待付款</span>\r\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"item.status == 2\">已付款</span>\r\n\t\t\t\t\t\t\t\t\t\t<span v-if=\"item.status == 3\">已取消</span>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td colspan=\"\" :rowspan=\"item.list.length\" headers=\"\"\r\n\t\t\t\t\t\t\t\t\tclass=\"order_handle body_content_ohandle\">\r\n\t\t\t\t\t\t\t\t\t<p v-if=\"item.status == 1\">\r\n\t\t\t\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"success\" @click.prevent=\"changecost(item)\">立即付款\r\n\t\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p v-if=\"item.status == 1\" class=\"order_cancel\">\r\n\t\t\t\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"danger\" @click.prevent=\"delCost(item,3)\">取消订单\r\n\t\t\t\t\t\t\t\t\t\t</el-button>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p class=\"order_cancel\">\r\n\t\t\t\t\t\t\t\t\t<div v-if=\"item.start!=0\">\r\n\t\t\t\t\t\t\t\t\t\t您已评价！<br>{{item.start*2}}分\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div v-if='item.status == 2&&item.start==0' style=\"margin-top: 20px;\">\r\n\t\t\t\t\t\t\t\t\t\t尊敬的客户请评分：\r\n\t\t\t\t\t\t\t\t\t\t<el-rate v-model=\"item.start\"></el-rate>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p v-if=\"item.status == 3\" class=\"order_cancel\">\r\n\t\t\t\t\t\t\t\t\t\t<el-button size=\"mini\" type=\"info\" @click=\"goother\">浏览其它商品</el-button>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p class=\"order_cancel\">\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport bill from '../../config/billcenter/billcenter.js'\r\n\timport shop from '../../config/shopingcenter/shopcenter.js'\r\n\timport book from '../bookcenter/image/bookcenter.js'\r\n\texport default {\r\n\t\tcomputed: {\r\n\t\t\tgetBillList() {\r\n\t\t\t\treturn bill.getters.getmybilllist;\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisShow: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttobook(item) {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: \"/book\",\r\n\t\t\t\t\tquery: item\r\n\t\t\t\t})\r\n\t\t\t\tshop.commit({\r\n\t\t\t\t\ttype: \"setBid\",\r\n\t\t\t\t\tdata: item\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoother(){\r\n\t\t\t\tthis.$router.push('/')\r\n\t\t\t},\r\n\t\t\tdelCost(item,i){\r\n\t\t\t\titem.status = i\r\n\t\t\t\tif (i == 3 || i == 4) {\r\n\t\t\t\t\tfor (var i = 0; i < item.list.length; i++) {\r\n\t\t\t\t\t\tbook.commit({\r\n\t\t\t\t\t\t\ttype: 'editBookNumplus',\r\n\t\t\t\t\t\t\tdata: item.list[i]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbill.commit({\r\n\t\t\t\t\ttype: 'editBillList',\r\n\t\t\t\t\tdata: item\r\n\t\t\t\t})\r\n\t\t\t\tif(i!=3){\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: '订单通知',\r\n\t\t\t\t\t\tmessage: '订单删除成功',\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: '订单通知',\r\n\t\t\t\t\t\tmessage: '订单取消成功',\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tchangecost(item) {\r\n\t\t\t\tthis.$confirm('请选择支付类型?', '提示', {\r\n\t\t\t\t\tdistinguishCancelAndClose: true,\r\n\t\t\t\t\tconfirmButtonText: '积分加余额',\r\n\t\t\t\t\tcancelButtonText: '余额',\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tif(this.$store.state.point==0){\r\n\t\t\t\t\t\t// console.log('积分不足')\r\n\t\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\t\ttitle: '积分通知',\r\n\t\t\t\t\t\t\tmessage: '积分不足',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar tempbill = {\r\n\t\t\t\t\t\tmoney:item.total_payment,\r\n\t\t\t\t\t\tpoint:0\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log(this.$store.state.point)\r\n\t\t\t\t\tvar point = 0;\r\n\t\t\t\t\tif(this.$store.state.point>parseInt(item.total_payment/10)){\r\n\t\t\t\t\t\ttempbill.point = parseInt(this.$store.state.point) - parseInt(item.total_payment/10)\r\n\t\t\t\t\t\tpoint = parseInt(item.total_payment/10);\r\n\t\t\t\t\t\ttempbill.money = parseFloat(item.total_payment)*0.9;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\ttempbill.money = parseFloat(item.total_payment)-parseFloat(this.$store.state.point)/10\r\n\t\t\t\t\t\tpoint = this.$store.state.point;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this.$store.m < tempbill.money){\r\n\t\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\t\ttitle: '余额通知',\r\n\t\t\t\t\t\t\tmessage: '余额不足',\r\n\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// console.log('余额不足请充值')\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\titem.status = 2;\r\n\t\t\t\t\titem.point = tempbill.point;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.$store.commit({\r\n\t\t\t\t\t\ttype:'CostBookPlus',\r\n\t\t\t\t\t\tdata:tempbill\r\n\t\t\t\t\t})\r\n\t\t\t\t\titem.point = -point;\r\n\t\t\t\t\tbill.commit({\r\n\t\t\t\t\t\ttype: 'editBillList',\r\n\t\t\t\t\t\tdata: item\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: '支付通知',\r\n\t\t\t\t\t\tmessage: '积分加余额支付成功!',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// this.$message({\r\n\t\t\t\t\t// \ttype: 'success',\r\n\t\t\t\t\t// \tmessage: '积分加余额支付成功!'\r\n\t\t\t\t\t// });\r\n\r\n\t\t\t\t}).catch(action => {\r\n\t\t\t\t\tif(action === 'cancel') {\r\n\t\t\t\t\t\tif (parseFloat(this.$store.state.m) < parseFloat(item.total_payment)) {\r\n\t\t\t\t\t\t\t// console.log('余额不足请充值')\r\n\t\t\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\t\t\ttitle: '余额通知',\r\n\t\t\t\t\t\t\t\tmessage: '余额不足',\r\n\t\t\t\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\titem.status = 2;\r\n\t\t\t\t\t\titem.point = parseInt(item.total_payment/10);\r\n\t\t\t\t\t\tthis.$store.commit({\r\n\t\t\t\t\t\t\ttype:'CostBook',\r\n\t\t\t\t\t\t\tdata:item\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbill.commit({\r\n\t\t\t\t\t\t\ttype: 'editBillList',\r\n\t\t\t\t\t\t\tdata: item\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\ttitle: '支付通知',\r\n\t\t\t\t\t\tmessage: '余额支付成功!',\r\n\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$notify({\r\n\t\t\t\t\t\t\ttitle: '支付通知',\r\n\t\t\t\t\t\t\tmessage: '支付已取消!',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif (!this.$store.state.f) {\r\n\t\t\t\tthis.$emit(\"loginstate\", {\r\n\t\t\t\t\tflag: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.$router.push('/')\r\n\t\t\t}\r\n\r\n\t\t\tbill.commit({\r\n\t\t\t\ttype: \"setUid\",\r\n\t\t\t\tdata: this.$store.state.id\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t.orderList-table {\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\r\n\t.order_info {\r\n\t\twidth: 460px;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.order_price {\r\n\t\twidth: 107px;\r\n\t\tborder: none;\r\n\r\n\t}\r\n\r\n\t.order_num {\r\n\t\twidth: 55px;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.goods_handle {\r\n\t\twidth: 110px;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.real_pay {\r\n\t\twidth: 128px;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.order_status {\r\n\t\twidth: 110px;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.order_handle {\r\n\t\twidth: 223px;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.body_top_con {\r\n\t\tbackground: #f5f5f5;\r\n\t\tborder: 1px solid #e5e5e5;\r\n\t\twidth: 100%;\r\n\t\tpadding: 10px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.top_con_time {\r\n\t\tcolor: #3c3c3c;\r\n\t\t/* font-weight: bold; */\r\n\t\tmargin: 0 10px 0 0;\r\n\t}\r\n\r\n\t.top_con_num {\r\n\t\tmargin: 0 50px 0 0;\r\n\t}\r\n\r\n\t.top_con_del {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.el-icon-delete:before {\r\n\t\tcontent: '\\e6d7';\r\n\t\tfont-size: 15px;\r\n\t}\r\n\r\n\tp {\r\n\t\tmargin: 4px 0;\r\n\t}\r\n\r\n\t.body_content_info {\r\n\t\twidth: 460px;\r\n\t\tborder-top: unset;\r\n\t}\r\n\r\n\t.info_box {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin: 0 10px;\r\n\t}\r\n\r\n\t.info_box_img {\r\n\t\tcursor: pointer;\r\n\t\twidth: 80px;\r\n\t\tflex: 0 0 80px;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\timg {\r\n\t\twidth: 80px;\r\n\t\theight: 100px;\r\n\t}\r\n\r\n\t.text {\r\n\t\tmargin-bottom: 6px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.attr {\r\n\t\tcolor: #9e9e9e;\r\n\t}\r\n\r\n\tspan {\r\n\t\tmargin-right: 6px;\r\n\t}\r\n\r\n\t.body_content_price {\r\n\t\ttext-align: center;\r\n\t\tborder-top: unset;\r\n\t\tpadding: 10px 0;\r\n\t\tborder-top: none;\r\n\t\tborder-bottom: 1px solid #e5e5e5;\r\n\t}\r\n\r\n\t.body_content_num {\r\n\t\ttext-align: center;\r\n\t\tborder-top: unset;\r\n\t\tborder-right: unset;\r\n\t\tborder-top: none;\r\n\t\tborder-bottom: 1px solid #e5e5e5;\r\n\t\tborder-left: 1px solid #e5e5e5;\r\n\t}\r\n\r\n\t.body_content_handle {\r\n\t\ttext-align: center;\r\n\t\tborder-top: unset;\r\n\t\tpadding: 10px 0;\r\n\t\tborder-top: none;\r\n\t\tborder-bottom: 1px solid #e5e5e5;\r\n\t\tborder-left: 1px solid #e5e5e5;\r\n\t}\r\n\r\n\t.body_content_pay {\r\n\t\ttext-align: center;\r\n\t\tborder-top: unset;\r\n\t\tpadding: 10px 0;\r\n\t\tborder-top: none;\r\n\t\tborder-bottom: 1px solid #e5e5e5;\r\n\t\tborder-left: 1px solid #e5e5e5;\r\n\t}\r\n\r\n\t.price {\r\n\t\tcolor: #3c3c3c;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.postage {\r\n\t\tcolor: #6c6c6c;\r\n\t}\r\n\r\n\t.body_content_status {\r\n\t\ttext-align: center;\r\n\t\tborder-top: unset;\r\n\t\tpadding: 10px 0;\r\n\t\tborder-top: none;\r\n\t\tborder-bottom: 1px solid #e5e5e5;\r\n\t\tborder-left: 1px solid #e5e5e5;\r\n\t}\r\n\r\n\t.detail {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.body_content_ohandle {\r\n\t\ttext-align: center;\r\n\t\tborder-top: unset;\r\n\t\tpadding: 10px 0;\r\n\t\tborder-top: none;\r\n\t\tborder-bottom: 1px solid #e5e5e5;\r\n\t\tborder-left: 1px solid #e5e5e5;\r\n\t\tborder-right: 1px solid #e5e5e5;\r\n\t}\r\n\r\n\t.order_cancel {\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\tth {\r\n\t\tpadding: 10px 0;\r\n\t\tborder: 1px solid #e5e5e5;\r\n\t\tvertical-align: top;\r\n\t}\r\n\r\n\ttd {\r\n\t\tpadding: 10px 0;\r\n\t\tborder: 1px solid #e5e5e5;\r\n\t\tvertical-align: top;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/view/list"}]}