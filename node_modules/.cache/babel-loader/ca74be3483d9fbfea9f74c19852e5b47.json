{"remainingRequest":"E:\\Project\\HTML\\BIMS\\node_modules\\babel-loader\\lib\\index.js!E:\\Project\\HTML\\BIMS\\src\\view\\bookcenter\\image\\bookcenter.js","dependencies":[{"path":"E:\\Project\\HTML\\BIMS\\src\\view\\bookcenter\\image\\bookcenter.js","mtime":1663835491997},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1663239443669},{"path":"E:\\Project\\HTML\\BIMS\\node_modules\\babel-loader\\lib\\index.js","mtime":1663239454289}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.find-index\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.search\";\nimport vue from 'vue';\nimport vuex from 'vuex';\nimport bookdata from \"./bookdata\";\nvue.use(vuex);\nvar bookStore = new vuex.Store({\n  state: {\n    bookData: bookdata.bookList,\n    // 书籍列表\n    bookList: [],\n    // 搜索框\n    search: '',\n    // 每页显示条数\n    pageSize: 5,\n    // 当前页码\n    currentPage: 1,\n    // 数据条数\n    total: 0,\n    // 书籍分类\n    bookType: bookdata.bookTypeList,\n    // \n    bookTemp: '',\n    // 首页搜索框\n    IndexSearch: '',\n    // 首页数据\n    IndexbookList: bookdata.bookList\n  },\n  getters: {\n    getIndexBookList: function getIndexBookList(state) {\n      return state.bookData.slice(1, 7);\n    },\n    getBookList: function getBookList(state) {\n      var start = (state.currentPage - 1) * state.pageSize;\n      var end = state.pageSize + start;\n\n      if (state.search != '') {\n        var reg = new RegExp(state.search + '+');\n        var books = [];\n        state.bookData.map(function (item, index) {\n          if (item.name.match(reg) || item.author.match(reg) || item.publisher.match(reg) || item.introduction.match(reg) || item.booktype.findIndex(function (i, any) {\n            return state.search === i;\n          }) != -1) {\n            books.push(item);\n          }\n        });\n        vue.set(state, \"total\", books.length);\n        state.bookList = books.slice(start, end);\n\n        while (books.length > 0 && state.bookList.length == 0) {\n          state.currentPage = state.currentPage - 1;\n          start = (state.currentPage - 1) * state.pageSize;\n          end = state.pageSize + start;\n          state.bookList = books.slice(start, end);\n        }\n\n        vue.set(state, \"total\", state.bookList.length);\n      } else {\n        vue.set(state, \"total\", state.bookData.length);\n        vue.set(state, \"bookList\", state.bookData);\n        state.bookList = state.bookData.slice(start, end);\n      }\n\n      return state.bookList;\n    },\n    getBookTemp: function getBookTemp(state) {\n      return state.bookTemp;\n    },\n    getBookType: function getBookType(state) {\n      return state.bookType;\n    },\n    getTypeBook: function getTypeBook(state) {\n      var books = [];\n      state.bookData.map(function (item, index) {\n        if (item.booktype.findIndex(function (i, any) {\n          return state.search === i;\n        }) != -1) {\n          books.push(item);\n        }\n      });\n      return books;\n    },\n    IndexgetBookListBybooktype: function IndexgetBookListBybooktype(state) {\n      if (state.type == '' || state.type == null) {\n        return state.IndexbookList;\n      }\n\n      var books = [];\n      state.IndexbookList.map(function (item, index) {\n        if (item.booktype.findIndex(function (i, any) {\n          return state.type === i;\n        }) != -1) {\n          books.push(item);\n        }\n      });\n      return books;\n    },\n    IndexgetSelectedBook: function IndexgetSelectedBook(state) {\n      if (state.IndexSearch != '') {\n        var reg = new RegExp(state.IndexSearch + '+');\n        var books = [];\n        state.IndexbookList.map(function (item, index) {\n          if (item.name.match(reg)) {\n            books.push(item);\n          }\n        });\n        vue.set(state, \"IndexbookList\", books);\n      } else {\n        vue.set(state, \"IndexbookList\", state.bookData);\n      }\n\n      return state.IndexbookList;\n    }\n  },\n  mutations: {\n    //分页 \n    updatePageSize: function updatePageSize(state, data) {\n      vue.set(state, \"pageSize\", data.data);\n    },\n    // 页号\n    updatePage: function updatePage(state, data) {\n      vue.set(state, \"currentPage\", data.data);\n    },\n    // 搜索\n    searchData: function searchData(state, data) {\n      vue.set(state, \"search\", data.data);\n    },\n    // 上下架\n    delBook: function delBook(state, data) {\n      var books = state.bookData;\n\n      for (var i = 0; i < books.length; i++) {\n        if (books[i].id == data.data) {\n          books[i].bookstate = data.state;\n          break;\n        }\n      }\n\n      vue.set(state, \"bookData\", books);\n    },\n    addBook: function addBook(state, data) {\n      state.bookData.push(data.data);\n    },\n    editBook: function editBook(state, data) {\n      var books = JSON.parse(JSON.stringify(state.bookData));\n\n      for (var i = 0; i < books.length; i++) {\n        if (books[i].id == data.data.id) {\n          books[i] = data.data;\n        }\n      }\n\n      vue.set(state, \"bookData\", books);\n    },\n    toAddBook: function toAddBook(state) {\n      vue.set(state, \"bookTemp\", bookdata.defaultBook);\n    },\n    toEditBook: function toEditBook(state, data) {\n      vue.set(state, \"bookTemp\", data.data);\n    },\n    selectType: function selectType(state, data) {\n      vue.set(state, \"type\", data.data);\n    },\n    IndexsearchData: function IndexsearchData(state, data) {\n      vue.set(state, \"IndexSearch\", data.data);\n    }\n  }\n});\nexport default bookStore;",{"version":3,"sources":["E:\\Project\\HTML\\BIMS\\src\\view\\bookcenter\\image\\bookcenter.js"],"names":["vue","vuex","bookdata","use","bookStore","Store","state","bookData","bookList","search","pageSize","currentPage","total","bookType","bookTypeList","bookTemp","IndexSearch","IndexbookList","getters","getIndexBookList","slice","getBookList","start","end","reg","RegExp","books","map","item","index","name","match","author","publisher","introduction","booktype","findIndex","i","any","push","set","length","getBookTemp","getBookType","getTypeBook","IndexgetBookListBybooktype","type","IndexgetSelectedBook","mutations","updatePageSize","data","updatePage","searchData","delBook","id","bookstate","addBook","editBook","JSON","parse","stringify","toAddBook","defaultBook","toEditBook","selectType","IndexsearchData"],"mappings":"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","sourcesContent":["import vue from 'vue';\r\nimport vuex from 'vuex';\r\nimport bookdata from './bookdata';\r\n\r\nvue.use(vuex);\r\nconst bookStore = new vuex.Store({\r\n\tstate: {\r\n\t\tbookData: bookdata.bookList,\r\n\t\t// 书籍列表\r\n\t\tbookList: [],\r\n\t\t// 搜索框\r\n\t\tsearch: '',\r\n\t\t// 每页显示条数\r\n\t\tpageSize: 5,\r\n\t\t// 当前页码\r\n\t\tcurrentPage: 1,\r\n\t\t// 数据条数\r\n\t\ttotal: 0,\r\n\t\t// 书籍分类\r\n\t\tbookType: bookdata.bookTypeList,\r\n\t\t// \r\n\t\tbookTemp: '',\r\n\t\t// 首页搜索框\r\n\t\tIndexSearch: '',\r\n\t\t// 首页数据\r\n\t\tIndexbookList: bookdata.bookList,\r\n\t},\r\n\tgetters: {\r\n\t\tgetIndexBookList(state){\r\n\t\t\treturn state.bookData.slice(1,7)\r\n\t\t},\r\n\t\tgetBookList(state) {\r\n\t\t\tvar start = (state.currentPage - 1) * state.pageSize;\r\n\t\t\tvar end = state.pageSize + start;\r\n\t\t\tif (state.search != '') {\r\n\t\t\t\tvar reg = new RegExp(state.search + '+');\r\n\t\t\t\tvar books = []\r\n\t\t\t\tstate.bookData.map((item, index) => {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\titem.name.match(reg) ||\r\n\t\t\t\t\t\titem.author.match(reg) ||\r\n\t\t\t\t\t\titem.publisher.match(reg) ||\r\n\t\t\t\t\t\titem.introduction.match(reg) ||\r\n\t\t\t\t\t\titem.booktype.findIndex((i, any) => {\r\n\t\t\t\t\t\t\treturn state.search === i\r\n\t\t\t\t\t\t}) != -1\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tbooks.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t\tvue.set(state, \"total\", books.length)\r\n\t\t\t\tstate.bookList = books.slice(start, end);\r\n\r\n\t\t\t\twhile (books.length > 0 && state.bookList.length == 0) {\r\n\t\t\t\t\tstate.currentPage = state.currentPage - 1;\r\n\t\t\t\t\tstart = (state.currentPage - 1) * state.pageSize;\r\n\t\t\t\t\tend = state.pageSize + start;\r\n\t\t\t\t\tstate.bookList = books.slice(start, end);\r\n\t\t\t\t}\r\n\t\t\t\tvue.set(state, \"total\", state.bookList.length)\r\n\t\t\t} else {\r\n\t\t\t\tvue.set(state, \"total\", state.bookData.length)\r\n\t\t\t\tvue.set(state, \"bookList\", state.bookData)\r\n\r\n\t\t\t\tstate.bookList = state.bookData.slice(start, end);\r\n\t\t\t}\r\n\t\t\treturn state.bookList;\r\n\t\t},\r\n\t\tgetBookTemp(state) {\r\n\t\t\treturn state.bookTemp;\r\n\t\t},\r\n\t\tgetBookType(state) {\r\n\t\t\treturn state.bookType;\r\n\t\t},\r\n\t\tgetTypeBook(state) {\r\n\t\t\tvar books = []\r\n\t\t\tstate.bookData.map((item, index) => {\r\n\t\t\t\tif (item.booktype.findIndex((i, any) => {\r\n\t\t\t\t\t\treturn state.search === i\r\n\t\t\t\t\t}) != -1) {\r\n\t\t\t\t\tbooks.push(item)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn books;\r\n\t\t},\r\n\t\tIndexgetBookListBybooktype(state) {\r\n\t\t\tif (state.type == '' || state.type == null) {\r\n\t\t\t\treturn state.IndexbookList;\r\n\t\t\t}\r\n\t\t\tvar books = []\r\n\t\t\tstate.IndexbookList.map((item, index) => {\r\n\t\t\t\tif (item.booktype.findIndex((i, any) => {\r\n\t\t\t\t\t\treturn state.type === i\r\n\t\t\t\t\t}) != -1) {\r\n\t\t\t\t\tbooks.push(item)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn books;\r\n\t\t},\r\n\t\tIndexgetSelectedBook(state) {\r\n\t\t\tif (state.IndexSearch != '') {\r\n\t\t\t\tvar reg = new RegExp(state.IndexSearch + '+');\r\n\t\t\t\tvar books = [];\r\n\t\t\t\tstate.IndexbookList.map((item, index) => {\r\n\t\t\t\t\tif (item.name.match(reg)) {\r\n\t\t\t\t\t\tbooks.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tvue.set(state, \"IndexbookList\", books)\r\n\t\t\t} else {\r\n\t\t\t\tvue.set(state, \"IndexbookList\", state.bookData)\r\n\t\t\t}\r\n\t\t\treturn state.IndexbookList;\r\n\t\t},\r\n\r\n\t},\r\n\tmutations: {\r\n\t\t//分页 \r\n\t\tupdatePageSize(state, data) {\r\n\t\t\tvue.set(state, \"pageSize\", data.data)\r\n\t\t},\r\n\t\t// 页号\r\n\t\tupdatePage(state, data) {\r\n\t\t\tvue.set(state, \"currentPage\", data.data)\r\n\t\t},\r\n\t\t// 搜索\r\n\t\tsearchData(state, data) {\r\n\t\t\tvue.set(state, \"search\", data.data)\r\n\t\t},\r\n\t\t// 上下架\r\n\t\tdelBook(state, data) {\r\n\t\t\tvar books = state.bookData;\r\n\t\t\tfor (var i = 0; i < books.length; i++) {\r\n\t\t\t\tif (books[i].id == data.data) {\r\n\t\t\t\t\tbooks[i].bookstate = data.state;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvue.set(state, \"bookData\", books)\r\n\t\t},\r\n\t\taddBook(state, data) {\r\n\t\t\tstate.bookData.push(data.data)\r\n\t\t},\r\n\t\teditBook(state, data) {\r\n\t\t\tvar books = JSON.parse(JSON.stringify(state.bookData))\r\n\t\t\tfor (var i = 0; i < books.length; i++) {\r\n\t\t\t\tif (books[i].id == data.data.id) {\r\n\t\t\t\t\tbooks[i] = data.data\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvue.set(state, \"bookData\", books)\r\n\t\t},\r\n\t\ttoAddBook(state) {\r\n\t\t\tvue.set(state, \"bookTemp\", bookdata.defaultBook)\r\n\t\t},\r\n\t\ttoEditBook(state, data) {\r\n\t\t\tvue.set(state, \"bookTemp\", data.data)\r\n\t\t},\r\n\t\tselectType(state, data) {\r\n\t\t\tvue.set(state, \"type\", data.data)\r\n\t\t},\r\n\t\tIndexsearchData(state, data) {\r\n\t\t\tvue.set(state, \"IndexSearch\", data.data)\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport default bookStore;\n"]}]}